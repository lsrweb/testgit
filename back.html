<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  	<el-dialog :title="`编辑定时发单任务`+job_id" :close-on-click-modal="false" @close="addFadanTimingDialogClose"
		:visible.sync="addFadanTimingDialog" width="1200px" top="40px">
		<div class="edit-box clearfix">
			<div class="edit-live">
				<div class="edit-live-title clearfix">
					<el-tooltip class="item" effect="dark" content="若少数素材出现传输失败,请单独重传素材" placement="top" :open-delay='500'>
						<el-button v-if="job_id" @click="batchUpFileCDN" :loading='batchUpLoading' class="edit-live-title-btn" type="primary" size="mini">一键重传素材</el-button>
					</el-tooltip>
					<span>
						<span>全部折叠</span>
						<el-switch v-model="fold" style="transform: scale(0.8);" @change='changeFold'></el-switch>
					</span>
					<div class="edit-live-title-text">
						<p style='font-size: 12px;color: #666666;padding-right: 6px;' v-if='finishTime'>预计完成时间：{{finishTime}}</p>
						<span>长按可拖动进行重新排序</span>
					</div>
				</div>
				<el-row style="width:98%; max-height:600px; overflow-y:auto;">
					<template v-if="!replyForm.msg.length">
						<el-empty description="当前任务暂无消息，请在右侧添加"></el-empty>
					</template>
					<template v-else>
						<draggable v-model="replyForm.msg" ghost-class="ghost" fallback-tolerance="3" chosen-class="chosen"
							force-fallback="true" filter=".layui-icon-delete" animation="300" class="moveclass"
							@update="datadragEnd">
							<div v-for="(item_msg,index) in replyForm.msg" class="message" :class="{selected : reply_msg_index===index}" @click.stop="editReplyMsg(index)">
								<p class="mark"> <span class="text">{{index+1}}</span>  </p>
								<div class="message-line">
									<el-tag size="mini" style="margin-top: 5px;margin:4px 0 4px 10px;" v-if="item_msg.status == 1&&replyForm.ex_type!='day'" type="success">已执行: {{item_msg.ex_time}}</el-tag>
									<el-tag size="mini" style="margin-top: 5px;margin:4px 0 4px 10px;" v-if="item_msg.status == 1&&replyForm.ex_type=='day'" type="info">下次执行: {{item_msg.ex_time}}</el-tag>
									<el-tag size="mini" style="margin-top: 5px;margin:4px 0 4px 10px;" v-if="item_msg.status == 0 && item_msg.is_start == '0'" type="info">待执行</el-tag>
									<el-tooltip class="item" effect="dark" content="重新开启发单时未设置从该内容开始" placement="top">
										<i class="el-icon-question" v-if="item_msg.status == 0 && item_msg.is_start == '0'"></i>
									</el-tooltip>
									<el-tag size="mini" style="margin-top: 5px;margin:4px 0 4px 10px;" v-if="item_msg.status == 0 && item_msg.is_start == '1'" type="info">待执行</el-tag>
									<div class="timer-out">
										<span>折叠 <el-switch v-model="item_msg.showContent?false:true" style="transform: scale(0.8);" @change="changeZD($event,index)"></el-switch></span>
										<span style="display: inline-block;margin-left:12px;" @click.stop="(e) => {}">
											延时
											<el-input v-model="item_msg.yanshi" @change.stop="check_number($event,1,'建议')" min="1" type="number" size="mini" class="num_input" size="mini"></el-input>
											秒
										</span>
									</div>
								</div>
								<el-link v-if="item_msg.msg_type_reply=='card'" :underline="false" style="font-size: 12px;font-weight: 800;color: red;">实际展示样式以手机屏幕宽度为准</el-link>
								<div class="message-line message-text-box" v-if="item_msg.msg_type_reply=='txt' && item_msg.showContent">
									<div v-if="item_msg.msg == ''" style="color:#9e9e9e">请在右侧进行编辑</div>
									<div v-else v-html="relpaceContent(item_msg.msg)" style="white-space:pre-wrap"></div>
								</div>
								<template v-if="item_msg.msg_type_reply=='xiaochengxu' && item_msg.showContent">
									<div class="cmm-wrapper" v-if="item_msg.msg == ''" style="color:#9e9e9e">请在右侧进行编辑</div>
									<div class="cmm-wrapper" v-if="item_msg.xcxData">
										<div class="xcx-card">
											<div class="card-box1">
												<div class="xcx-card-title">
													<div class="xcx-card-logo">
														<el-image class="el-image" :src="item_msg.xcxData.appicon" fit="cover">
															<div slot="error" class="image-slot">
																<i class="el-icon-picture-outline"></i>
															</div>
														</el-image>
													</div>
													<div class="xcx-card-title-text">{{item_msg.xcxData.name}}</div>
												</div>
												<div class="xcx-card-content-text">{{item_msg.xcxData.title}}</div>
												<div class="xcx-card-img">
													<el-image class="el-image" :src="item_msg.xcxData.media" fit="cover">
														<div slot="error" class="image-slot">
															<img src="/assets/images/roobot/xiaochengxutupianyulan.jpg" alt="">
															<!-- <i class="el-icon-picture-outline"></i> -->
														</div>
													</el-image>
												</div>
												<hr>
											</div>
											<div class="card-box2">
												<div class="xcx-card-title">
													<div class="xcx-card-logo icon">
														<img class="img" src="/assets/images/logo/xiaochengxu2.png" alt="">
													</div>
													<div class="xcx-card-title-text">小程序</div>
												</div>
											</div>
										</div>
									</div>
								</template>

								<template v-if="item_msg.msg_type_reply=='shipinhao' && item_msg.showContent">
									<div class="cmm-wrapper" v-if="item_msg.msg == ''" style="color:#9e9e9e">请在右侧进行编辑</div>
									<div class="cmm-wrapper" v-if="item_msg.sphData">
										<div class='video-card'>
											<div class="video-image-box">
												<el-image class="el-image" :src="item_msg.sphData.media" fit="cover">
													<div slot="error" class="image-slot">
														<i class="el-icon-picture-outline"></i>
													</div>
												</el-image>
												<div class="video-card-data">
													<i class="el-icon-video-play"></i>
												</div>
												<div class="video-text-tisp">
													<span>{{item_msg.sphData.title}}</span>
												</div>
											</div>
											<div class='video-card-title'>
												<div class="xcx-card-logo">
													<el-image class="el-image" :src="item_msg.sphData.appicon" fit="cover">
														<div slot="error" class="image-slot">
															<i class="el-icon-picture-outline"></i>
														</div>
													</el-image>
												</div>
												<div class="xcx-card-title-text">{{item_msg.sphData.name}}</div>
											</div>
										</div>
									</div>
								</template>

								<div class="message-line message-video-box"  v-if="item_msg.msg_type_reply!='txt' && item_msg.showContent">
									<div class="message-show-box" v-if="item_msg.msg_type_reply=='img'">
										<el-image class="video-box" fit="contain" v-if="item_msg.img_src != ''" :src="item_msg.img_src" title="点击预览" @click.stop="imgPreview(item_msg.img_src,'img')"></el-image>
										<div v-else class="video-tisp">请在右侧上传图片</div>
									</div>
									<div class="message-show-box" v-if="item_msg.msg_type_reply=='card'">
										<el-image class="video-box" fit="contain" v-if="item_msg.img_src != ''" :src="item_msg.img_src" title="点击预览" @click.stop="imgPreview(item_msg.img_src,'img')"></el-image>
										<div v-else class="video-tisp">请在右侧上传图片</div>
									</div>
									<div class="message-show-box" v-if="item_msg.msg_type_reply=='shipin'">
										<el-image class="video-box" fit="contain" v-if="item_msg.img_src != ''" :src="item_msg.img_src_video" title="点击预览" @click.stop="imgPreview(item_msg.img_src,'video')"></el-image>
										<div v-else class="video-tisp">请在右侧上传视频</div>
									</div>
									<div class="message-show-box" v-if="item_msg.msg_type_reply=='gif'">
										<el-image class="video-box" fit="contain" v-if="item_msg.img_src != ''" :src="item_msg.img_src" title="点击预览" @click.stop="imgPreview(item_msg.img_src,'img')"></el-image>
										<div v-else class="video-tisp">请在右侧上传动态表情</div>
									</div>
									<div class="message-show-box" v-if="item_msg.msg_type_reply=='file'">
										<div v-if="item_msg.img_src != ''">
											<i class="video-box el-icon-document" style="font-size: 40px;line-height: 80px;text-align: center;color: #409EFF;"  title="点击预览" @click.stop="imgPreview(item_msg.img_src,'file')"></i>
											<div><el-button type="text" size="mini">{{item_msg.title}}</el-button></div>
										</div>
										<div v-else class="video-tisp">请在右侧上传文件</div>
									</div>
									<div v-if="item_msg.msg_type_reply=='card'" style="padding-left: 92px;line-height: 22px;font-size: 12px;">
										<p>标题：{{item_msg.title}}</p>
										<p>链接：{{item_msg.url}}</p>
										<div class="card-desc">
											<div>描述：</div>
											<div class="card-desc-text" >{{item_msg.desc}}</div>
										</div>
									</div>
									<div class="jisu-status" v-if="item_msg.img_src!='' && item_msg.msg_type_reply != 'card'">
										<div class="jisu-status-text" v-if="item_msg.jisu_stuatus=='准备中'" style="color: #e6a23c;">个微极速准备中...</div>
										<div class="jisu-status-text" v-if="item_msg.jisu_stuatus=='未就绪'" style="color: #f56c6c;">个微极速未就绪</div>
										<div class="jisu-status-text" v-if="item_msg.jisu_stuatus=='就绪'" style="color: #67c23a;">个微极速就绪</div>
										<div class="jisu-status-text" v-if="item_msg.jisu_stuatus_qy=='准备中'" style="color: #e6a23c;">企微极速准备中...</div>
										<div class="jisu-status-text" v-if="item_msg.jisu_stuatus_qy=='未就绪'" style="color: #f56c6c;">企微极速未就绪</div>
										<div class="jisu-status-text" v-if="item_msg.jisu_stuatus_qy=='就绪'" style="color: #67c23a;">企微极速就绪</div>
									</div>
								</div>
								<div class="message-line message-history-box" v-if="item_msg.msg_type_reply=='liaotianjilu' && item_msg.showContent">
									<div class="history-title">{{item_msg.msg_title}}</div>
									<template v-if="item_msg.msg_desc && item_msg.msg_desc.length">
										<div class="history-text" v-for="(content,contentIndex) in item_msg.msg_desc" :key="contentIndex">{{content}}</div>
									</template>
								</div>
								<div class="message-line message-history-box" v-if="item_msg.msg_type_reply=='voice' && item_msg.showContent">
									<audio :src=" JSON.parse(item_msg.msg).mp3_file" class="yunyinbofnag" controls></audio>
								</div>
								<!-- note 笔记类型 -->
								<div class="message-line message-history-box" v-if="item_msg.msg_type_reply=='note' && item_msg.showContent">
									<div class="history-title">微信收藏笔记</div>
									<div class="history-text" v-if="item_msg.noteData && item_msg.noteData.title">{{item_msg.noteData.title}}</div>
									<div class="history-text" v-else>暂无笔记内容</div>
									<i class="el-icon-notebook-2" style="margin-top: 8px;"></i>
								</div>
								<div class="message-function-list" v-if='item_msg.showContent'>
									<el-button class="message-function-item" size="mini" title="前增加" plain @click.stop="addReplyMsg(index,'up')" type="primary">向前 <i class="el-icon-circle-plus-outline"></i></el-button>
									<el-button class="message-function-item" size="mini" title="后增加" plain @click.stop="addReplyMsg(index,'bottom')" type="primary">向后 <i class="el-icon-circle-plus-outline"></i></el-button>
									<el-button class="message-function-item" size="mini" title="复制文字" plain @click.stop="copy(item_msg.msg)" type="primary" v-if="item_msg.msg_type_reply=='txt'"><i class="el-icon-copy-document"></i></el-button>
									<el-button class="message-function-item" size="mini" title="移除" plain @click.stop="delReplyMsg(item_msg)" type="danger"><i class="el-icon-delete"></i></el-button>
								</div>
							</div>
						</draggable>
					</template>
				</el-row>
			</div>
			<div class="right-box">
				<el-row style="min-height:500px; ">
					<template>
						<el-row>
							<span style="font-size:12px;">任务名称：</span>
							<el-input style="width:200px" v-model="replyForm.name" placeholder="请输入任务名称" type="text"
								size="mini" class=""></el-input>
						</el-row>
							<!-- 选择补发群 -->
							<el-row>
								<span style="font-size:12px;">选择补发：</span>
								<el-radio-group v-model="needFadanRobotGroup" size="mini" style="margin-right: 10px;" @change="fadanRobotGroupChange" class="mb-radio">
									<el-radio :label="0">全部发送</el-radio>
									<el-radio :label="1">选择补发群</el-radio>
								</el-radio-group>
							</el-row>
						<el-row>
							<span style="font-size:12px;">发单方案：</span>
							<div class='fuhe editFangan' style="width:396px;vertical-align: middle;">
								<el-select filterable placeholder='选择分组' clearable @change='replyForm.fangan_sel = []' v-model='fadan_group' size='mini' style="width: 100px;">
									<el-option v-for="(item,index) in group_list.filter(item=>{return item.id != ''})" :label='item.name' :value='item.id' :key='index'></el-option>
								</el-select>
								<el-select style="width:290px" tabIndex="10" ref="fanganSel" style="width:100%;"
									@change="funFanganChange" clearable multiple @focus="getFanganList" collapse-tags v-model="replyForm.fangan_sel" size="mini"
									:placeholder="needFadanRobotGroup ? '请选择发单方案' : '请选择发单方案（可选择多个）'" filterable
									@clear="faDanSelClear"
								>
									<el-option v-for="(item,index) in fangan_list.filter((item)=>{ return !fadan_group || item.group_id == fadan_group})" :key="item.id"
										:label="(index + 1) + '、' + item.name" :value="item.id"
										:style="{color: item.status == 'N' ? 'red' : ''}"
										:title="item.status == 'N' ? '发单方案未启动' : ''">
									</el-option>
								</el-select>
							</div>
						</el-row>
						<el-row v-if="needFadanRobotGroup">
							<span style="font-size:12px;">补发范围：</span>
							<el-button type="primary" size="mini" @click="selectFadanRobotGroup">选择补发群
								<span v-if="getAllSelectedGroupsTotal > 0" style="color: #fff;font-size: 12px">&nbsp;&nbsp;已选择（{{getAllSelectedGroupsTotal}}）个群聊</span>
							</el-button>
						</el-row>
						<!-- 选择补发群弹窗 showFadanRobotGroup -->
						<el-dialog :visible.sync="showGroupSelectDialog" width="800px" top="40px" append-to-body 
							:close-on-click-modal="false" custom-class="bufa-group-dialog" 
						>
							<template #title>
								<span class="el-dialog__title">选择补发群</span>
								<span v-if="getAllSelectedGroupsTotal > 0">已选择{{getAllSelectedGroupsTotal}}个群聊</span>
							</template>
							<el-row style="height: 500px;border: 1px solid #ebf7ff;">
								<!-- 左侧机器人列表 -->
								<el-col :span="8" class="robot-col">
									<!--机器人列表搜索-->
									<div class="search-line clearfix">
										<div class="search-item" style="margin-bottom: 0;">
											<div class="search-title">昵称</div>
											<el-input class="search-input" size="mini" v-model="robotSearchText" clearable placeholder="搜索机器人名称"></el-input>
										</div>
									</div>
									<div v-for="(robot, robotIndex) in filteredFadanRobotList" :key="robotIndex" :class="['robot-col-for', selectedRobotIndex === robotIndex ? 'robot-col-for__active' : '']" @click="setCurrentGroupList(robot, robotIndex)">
										<!-- <el-checkbox v-model="robot.isSelected" @change="(val) => changeRobotList(robot,val,robotIndex)"></el-checkbox> -->
										<img :src="robot.headimgurl" class="left-avatar" />
										<div class="for-right">
											<p>{{robot.nickname}}</p>
											<p>{{robot.wxid}}</p>
										</div>
									</div>
									<template v-if="filteredFadanRobotList.length == 0">
										<el-empty description="暂无数据" :image-size="48"></el-empty>
									</template>
								</el-col>
								<!-- 右侧群列表 -->
								<el-col class="group-col" :span="16" style="height: 100%;overflow-y: auto">
									<div class="search-line clearfix">
										<div class="search-item">
											<div class="search-title">群名称</div>
											<el-input class="search-input" size="mini" v-model="groupSearchText" clearable placeholder="搜索群名称" @keyup.enter.native="searchGroups" @clear="searchGroups"></el-input>
										</div>
										<el-button type="primary" class="search-btn" size="mini" @click="searchGroups">搜索</el-button>
									</div>
									<u-table 
										ref="groupTable"
										:data="getCurrentRobotGroupList" 
										:height="498 - 40"
										@select="handleGroupSelectionChange"
										@select-all="handleGroupSelectionChangeAll"
										:border="false"
										use-virtual
										big-data-checkbox
										row-key="conversation_id">
										<!-- <el-table-column type="selection" width="50" reserve-selection :selectable="canSelectable"></el-table-column> -->
										<el-table-column type="selection" width="50" reserve-selection></el-table-column>
										<el-table-column prop="name" label="群聊信息">
											<!-- 自定义头部 -->
											<template slot="header" slot-scope="scope">
												群聊信息
												[已选择{{getAllSelectedGroupsTotal}}个群聊]
												<el-button type="text" size="mini" @click.stop="showAllSelectedGroup(showAllPMode)">{{!showAllPMode ? '展示已选群聊' : '返回群列表'}}</el-button>
											</template>
											<template slot-scope="{row}">
												<el-tooltip class="item" effect="dark" :content="`群名称：${row.nickname} \n (${row.conversation_id})`" :open-delay='500' placement="top-start" :open-delay='500' popper-class="tooltop-pov">
													<div>
														<p class="group-name">{{row.nickname}}</p><span class="count">{{row.count}}人</span>
													</div>
												</el-tooltip>
												<p class="group-conversation_id gray_text">{{row.conversation_id}}</p>
												<!-- 查询所属机器人 -->
												<p class="group-wxid gray_text" v-if="showAllPMode">所属机器人: {{row.parent.nickname}} ({{row.parent.wxid}})</p>
											</template>
										</el-table-column>
									</u-table>
								</el-col>
							</el-row>
							<span slot='footer' class='dialog-footer'>
								<el-button size='mini' @click='showGroupSelectDialog = false'>取消</el-button>
								<el-button size='mini' type='primary' @click='confirmSelectGroups'>确定</el-button>
							</span>
						</el-dialog>
						</el-row>
						<el-row>
							<div>
								<lable style="font-size: 12px;" class="">执行方式：</lable>
								<el-radio-group @change="exTypeChange" v-model="replyForm.ex_type">
									<el-radio label="timing">定时执行</el-radio>
									<el-radio label="timing_week">本周定时执行</el-radio>
									<el-radio label="day">重复执行(每天)</el-radio>
									<el-radio label="month">重复执行(每月)</el-radio>
									<el-radio label="now">立即执行</el-radio>
								</el-radio-group>
							</div>
							<div style="margin-left: 64px;">
								<div>
									<!-- 周日期选择 -->
									<el-checkbox-group v-show="replyForm.ex_type == 'timing_week'  || replyForm.ex_type == 'day'"  v-model="replyForm.ex_day_week" class="ex-day-week-class" >
										<el-checkbox label="1"  :disabled="zhou_day > 1 && replyForm.ex_type == 'timing_week' "  >周一</el-checkbox>
										<el-checkbox label="2"  :disabled="zhou_day > 2 && replyForm.ex_type == 'timing_week' "  >周二</el-checkbox>
										<el-checkbox label="3"  :disabled="zhou_day > 3 && replyForm.ex_type == 'timing_week' "  >周三</el-checkbox>
										<el-checkbox label="4"  :disabled="zhou_day > 4 && replyForm.ex_type == 'timing_week' "  >周四</el-checkbox>
										<el-checkbox label="5"  :disabled="zhou_day > 5 && replyForm.ex_type == 'timing_week' "  >周五</el-checkbox>
										<el-checkbox label="6"  :disabled="zhou_day > 6 && replyForm.ex_type == 'timing_week' "  >周六</el-checkbox>
										<el-checkbox label="7"  :disabled="zhou_day > 7 && replyForm.ex_type == 'timing_week' "  style="margin-right: 0;">周日</el-checkbox>
									</el-checkbox-group>
									<el-date-picker size="mini" value-format="yyyy/MM/dd HH:mm:ss" :editable="false"
										format="yyyy/MM/dd HH:mm:ss" v-if="replyForm.ex_type=='timing'  "
										@change='calcFinishTime'
										v-model="replyForm.ex_time" type="datetime" placeholder="选择日期时间">
									</el-date-picker>
									<el-popover v-if="send_time_zhuijia=='N' && replyForm.ex_type == 'timing' "  >
										<div style="display: flex;align-items: center;" >
											<span style="font-size:12px;padding-right:10px;">每次进入自动设置</span>
											<el-input-number size="mini" :min='0'  v-model="zidingyi_timer"   label="自定义追加时间"></el-input-number>
											<span style="font-size:12px;padding-left:10px ;">分钟后</span>
										</div>
										 <el-button type="text" size="mini"  style="display: inline-block;" slot="reference">更多高级设置</el-button>
									</el-popover>
									<el-tooltip  v-if="send_time_zhuijia=='N' && replyForm.ex_type == 'timing'"  class="item" effect="dark"  placement="top"  >
										  <div slot="content">
											  如果上次时间大于当前时间,则该时间为"上次设置时间" + "高级设置时间",<br/>
											  如果上次设置时间小于当前时间,则该时间为"当前时间"+"高级设置时间"
										  </div>
										  <el-i class="el-icon-question"></el-i>
									</el-tooltip>
									<!-- <div  v-if="send_time_zhuijia=='N' && replyForm.ex_type=='timing'" style="display: inline-block;">
										<el-input-number size="mini" :min='1'  v-model="zidingyi_timer"  @change='setDingshi(zidingyi_timer)'  label="自定义追加时间"></el-input-number><span style="font-size:12px;padding-left:5px">分钟后</span>
									</div> -->
								</div>
								<div>

								</div>
								<template v-if="replyForm.ex_type=='timing' ">
									<template v-if="send_time_zhuijia=='N'">
										<el-link @click="setDingshi(1)"
											style="font-size: 12px; margin-right: 5px;cursor:pointer;"
											type="primary">1分钟后</el-link>
										<el-link @click="setDingshi(10)"
											style="font-size: 12px;margin-right: 5px;cursor:pointer;"
											type="primary">10分钟后</el-link>
										<el-link @click="setDingshi(30)"
											style="font-size: 12px;margin-right: 5px;cursor:pointer;"
											type="primary">30分钟后</el-link>

											<!-- <el-popover  placement="right" width="100"  trigger="click">
											  <div>
												 <div style="color:#999;font-size:12px;margin-bottom:12px" >分钟</div>
											  </div>
											  <el-link style="font-size: 12px;margin-right: 5px;cursor:pointer;" type="primary" slot="reference">
												  自定义
											 </el-link>
											</el-popover>
											 -->
									</template>
									<template v-else>
										<el-link @click="setDingshi(1)"
											style="font-size: 12px; margin-right: 5px;cursor:pointer;"
											type="primary">+1分钟</el-link>
										<el-link @click="setDingshi(10)"
											style="font-size: 12px;margin-right: 5px;cursor:pointer;"
											type="primary">+10分钟</el-link>
										<el-link @click="setDingshi(30)"
											style="font-size: 12px;margin-right: 5px;cursor:pointer;"
											type="primary">+30分钟</el-link>
									</template>
								</template>
								<el-tooltip class="item" v-if="replyForm.ex_type=='timing'"  effect="dark"  style="margin-left: 5px;" content="勾选后，在已设置定时基础上追加xx分钟（可多次点击）"
									placement="top-start" open-delay=500>
									<el-checkbox @change="sendTimeZhuijiaChange" v-model="send_time_zhuijia" true-label="Y" false-label="N">
										<span style="font-size:12px;">追加时间</span>
									</el-checkbox>
								</el-tooltip>
								<el-select v-if="replyForm.ex_type=='month'" clearable filterable size="mini" placeholder="请选择日期" multiple collapse-tags v-model="replyForm.ex_day_month">
									<el-option v-for="item in 31" :key="item" :label="item" :value="`${item}`"></el-option>
								</el-select>
								<el-time-picker size="mini" v-if="replyForm.ex_type=='day' || replyForm.ex_type == 'timing_week' || replyForm.ex_type == 'month'" value-format="HH:mm:ss"
									@change='calcFinishTime'
									format="HH:mm:ss" v-model="replyForm.ex_time" :picker-options="{selectableRange: '00:00:00 - 23:59:59'}" placeholder="任意时间点">
								</el-time-picker>
								<el-link style="font-size: 12px;" type="danger" v-if="replyForm.ex_type == 'month'" :underline="false">
									如果当前月份没有指定的日期天数，则跳过该日期，顺延到后续月份执行。
								</el-link>
							</div>

						</el-row>
						<el-card
							style='margin-bottom: 5px;padding-top:20px; padding-bottom:10px; width:100%;overflow:unset;'
							shadow="hover">
							<div style="display: inline-block;margin-bottom: 5px;" class="radio-group-rew">
								<span style="font-size: 12px;">内容：</span>
								<el-radio-group size="mini" v-model="reply_msg.msg_type_reply"
									@change='replyTypeChange($event,reply_msg)' size="medium">
									<el-radio-button v-for="(item,index) in msgTypeList_reply" :label="item.id">
										{{item.name}}
									</el-radio-button>
								</el-radio-group>
							</div>
							<!-- 回复内容 -->
							<div style="position: relative;">
								<div v-show="reply_msg.msg_type_reply=='txt'">
									<!-- 编辑消息内容 -->
									<paratext ref="paratext" prove="paratext"
									@model="(content) => {reply_msg.msg = content}" @backref="(prove,quill) => {paratextDom = $refs.paratext}"
									placeholder="请输入需要发送的内容"></paratext>
									<!-- <el-input @blur="txtBlurArea_reply" size='mini' :rows="4"
										v-model="reply_msg.msg" type="textarea" placeholder='请输入需要发送的内容'></el-input>
									<el-popover placement="bottom-start" width="455" placement="right"
										trigger="click">
										<div class="faceBox emojiArea">
											<el-link @click="setEmo_area_reply(item_emo,reply_msg)"
												:underline="false" v-for="(item_emo ,index_emo) in wx_emoji"
												:key="index_emo" :title="item_emo"></el-link>
										</div>
										<el-button slot="reference" type="text" title='微信表情' size='mini' circle>
											<el-image src='/assets/images/weixin/images/btn-face.png'></el-image>
										</el-button>
									</el-popover> -->
								</div>
								<template v-if="reply_msg.msg_type_reply=='img'">
									<!-- 编辑  图片内容 -->
									<!-- <div style="display: flex;   align-items: center;" class="avatar-uploader"> -->
									<el-upload class="avatar-uploader" drag action="/wx/FenWei_rw/Uploadpic"
										:show-file-list="false" name='msg_img'
										:data="{path:'PaiDan',replymsg_index:0,p_index:0}"
										:on-success="handleAvatarSuccess_reply" :before-upload="beforeAvatarUpload">
										<el-image fit="contain"
											v-if="reply_msg.img_src&&reply_msg.msg_type_reply=='img'"
											:src="reply_msg.img_src" class="avatar"></el-image>
										<i v-else class="el-icon-upload avatar-uploader-icon"></i>
										<div class="el-upload__text">将图片拖到此处，或<em>点击上传</em></div>
									</el-upload>
									<div class="jisu_stuatus">
										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='img'&&reply_msg.jisu_stuatus=='准备中'"
											style="color: #e6a23c;font-style: normal;">个微极速准备中...</em>
										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='img'&&reply_msg.jisu_stuatus=='未就绪'"
											style="color: #f56c6c;font-style: normal;">个微极速未就绪
										</em>
										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='img'&&reply_msg.jisu_stuatus=='就绪'"
											style="color: #67c23a;font-style: normal;">个微极速就绪</em>

										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='img'&&reply_msg.jisu_stuatus_qy=='准备中'"
											style="color: #e6a23c;font-style: normal;">企微极速准备中...</em>
										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='img'&&reply_msg.jisu_stuatus_qy=='未就绪'"
											style="color: #f56c6c;font-style: normal;">企微极速未就绪
										</em>
										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='img'&&reply_msg.jisu_stuatus_qy=='就绪'"
											style="color: #67c23a;font-style: normal;">企微极速就绪</em>

										<el-link type='primary'
											v-if="reply_msg.jisu_stuatus!='就绪' || reply_msg.jisu_stuatus_qy!='就绪'"
											size='mini' @click="reExUploadCDN(reply_msg,'N')">重新检测</el-link>
										<el-link type='primary' size='mini'
											@click="reExUploadCDN(reply_msg,'Y')">重新上传</el-link>

									</div>

									<div class="el-upload__text zhantie">
										<span
											v-if="reply_msg.file_size!=''&&reply_msg.file_size!=null&&reply_msg.file_size!=0">{{reply_msg.file_size}}kb</span>
										<div>
											<em class="picbtn" @click="tlj_product_img_paste(0,0)"
												style="color: #409eff;font-style: normal;">粘贴图片</em>
											<em class="picbtn" v-if="reply_msg.img_src&&reply_msg.msg_type_reply=='img'"
												@click="imgPreview(reply_msg.img_src)"
												style="color: #409eff;font-style: normal;">预览</em>
										</div>

									</div>
								</template>
								<!-- 卡片类型 -->
								<template v-else-if="reply_msg.msg_type_reply=='card'">
									<div>
										<el-upload class="avatar-uploader" drag action="/wx/FenWei_rw/Uploadpic"
											:show-file-list="false" name='msg_img'
											:data="{path:'PaiDan',replymsg_index:0,p_index:0}"
											:on-success="handleAvatarSuccess_reply" :before-upload="beforeAvatarUpload">
											<el-image fit="contain"
												v-if="reply_msg.img_src&&reply_msg.msg_type_reply=='card'"
												:src="reply_msg.img_src" class="avatar"></el-image>
											<i v-else class="el-icon-upload avatar-uploader-icon"></i>
											<div class="el-upload__text">将图片拖到此处，或<em>点击上传</em></div>
										</el-upload>
										<div class="el-upload__text zhantie cardBox">
											<el-form ref="form" label-width="50px" style="display: inline-block;vertical-align: top;font-size: 12px;">
												<el-form-item label="标题">
												  <el-input placeholder="请输入标题" size="mini" v-model="reply_msg.title" style="width: 238px;"></el-input>
												</el-form-item>
												<el-form-item label="链接">
													<el-input placeholder="请输入链接" size="mini" v-model="reply_msg.url" style="width: 238px;"></el-input>
												</el-form-item>
												<el-form-item label="描述">
													<el-input placeholder="请输入描述" type="textarea" size="mini" v-model="reply_msg.desc" style="width: 238px;"></el-input>
												</el-form-item>
											</el-form>
										</div>
									</div>
									<div class="jisu_stuatus">
										<span v-if="reply_msg.file_size!=''&&reply_msg.file_size!=null&&reply_msg.file_size!=0">{{reply_msg.file_size}}kb</span>
										<em class="picbtn" @click="tlj_product_img_paste(0,0)" style="color: #409eff;font-style: normal;">粘贴图片</em>
										<em class="picbtn" v-if="reply_msg.img_src&&reply_msg.msg_type_reply=='card'" @click="imgPreview(reply_msg.img_src)" style="color: #409eff;font-style: normal;">预览</em>
									</div>
									<!-- <div class="jisu_stuatus">
										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='card'&&reply_msg.jisu_stuatus=='准备中'"
											style="color: #e6a23c;font-style: normal;">个微极速准备中...</em>
										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='card'&&reply_msg.jisu_stuatus=='未就绪'"
											style="color: #f56c6c;font-style: normal;">个微极速未就绪
										</em>
										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='card'&&reply_msg.jisu_stuatus=='就绪'"
											style="color: #67c23a;font-style: normal;">个微极速就绪</em>

										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='card'&&reply_msg.jisu_stuatus_qy=='准备中'"
											style="color: #e6a23c;font-style: normal;">企微极速准备中...</em>
										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='card'&&reply_msg.jisu_stuatus_qy=='未就绪'"
											style="color: #f56c6c;font-style: normal;">企微极速未就绪
										</em>
										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='card'&&reply_msg.jisu_stuatus_qy=='就绪'"
											style="color: #67c23a;font-style: normal;">企微极速就绪</em>

										<el-link type='primary'
											v-if="reply_msg.jisu_stuatus!='就绪' || reply_msg.jisu_stuatus_qy!='就绪'"
											size='mini' @click="reExUploadCDN(reply_msg,'N')">重新检测</el-link>
										<el-link type='primary' size='mini'
											@click="reExUploadCDN(reply_msg,'Y')">重新上传</el-link>
									</div> -->
								</template>
								<!-- 卡片类型结束 -->
								<template v-else-if="reply_msg.msg_type_reply=='file'">
									<!-- 编辑  文件内容 -->
									<el-upload class="avatar-uploader" drag action="/wx/FenWei_rw/Uploadpic"
										name='msg_img' :show-file-list="false"
										:data="{path:'PaiDan',type:'file',replymsg_index:0,p_index:0}"
										:on-success="handleAvatarSuccess_reply"
										:before-upload="beforeAvatarUpload_file">
										<template v-if="reply_msg.img_src&&reply_msg.msg_type_reply=='file'">
											<i class="el-icon-document" style="font-size: 40px;line-height: 80px;"></i>
											<div class="el-upload__text">{{reply_msg.title}}</div>
										</template>
										<template  v-else>
											<i class="el-icon-upload avatar-uploader-icon"></i>
											<div class="el-upload__text">将文件拖到此处，或<em>点击上传</em></div>
										</template>
									</el-upload>
									<div class="jisu_stuatus">
										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='file'&&reply_msg.jisu_stuatus=='准备中'"
											style="color: #e6a23c;font-style: normal;">个微极速准备中...</em>
										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='file'&&reply_msg.jisu_stuatus=='未就绪'"
											style="color: #f56c6c;font-style: normal;">个微极速未就绪
										</em>
										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='file'&&reply_msg.jisu_stuatus=='就绪'"
											style="color: #67c23a;font-style: normal;">个微极速就绪</em>


										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='file'&&reply_msg.jisu_stuatus_qy=='准备中'"
											style="color: #e6a23c;font-style: normal;">企微极速准备中...</em>
										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='file'&&reply_msg.jisu_stuatus_qy=='未就绪'"
											style="color: #f56c6c;font-style: normal;">企微极速未就绪
										</em>
										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='file'&&reply_msg.jisu_stuatus_qy=='就绪'"
											style="color: #67c23a;font-style: normal;">企微极速就绪</em>

										<el-link type='primary'
											v-if="reply_msg.jisu_stuatus!='就绪' || reply_msg.jisu_stuatus_qy!='就绪'"
											size='mini' @click="reExUploadCDN(reply_msg,'N')">重新检测</el-link>
										<el-link type='primary' size='mini'
											@click="reExUploadCDN(reply_msg,'Y')">重新上传</el-link>
									</div>
								</template>

								<template v-else-if="reply_msg.msg_type_reply=='shipin'">
									<!-- 编辑  视频内容 -->
									<el-upload class="avatar-uploader" drag action="/wx/FenWei_rw/Uploadpic"
										:show-file-list="false" name='msg_img'
										:data="{path:'PaiDan',type:'video',replymsg_index:0,p_index:0}"
										:on-success="handleAvatarSuccess_reply"
										:before-upload="beforeAvatarUpload_video">
										<el-image fit="contain"
											v-if="reply_msg.img_src&&reply_msg.msg_type_reply=='shipin'"
											:src="reply_msg.img_src_video" class="avatar"></el-image>
										<i v-else class="el-icon-upload avatar-uploader-icon"></i>
										<div class="el-upload__text">将视频拖到此处，或<em>点击上传</em></div>
									</el-upload>
									<div class="el-upload__text zhantie" style="left: 205px;">

										<div>
											<span
												v-if="reply_msg.file_size!=''&&reply_msg.file_size!=null&&reply_msg.file_size!=0">{{reply_msg.file_size}}kb</span>
										</div>
										<el-link class="picbtn"
											v-if="reply_msg.img_src&&reply_msg.msg_type_reply=='shipin'" size="mini"
											type="primary" :href="reply_msg.img_src" target="_blank">查看视频</el-link>
									</div>

									<div class="jisu_stuatus">
										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='shipin'&&reply_msg.jisu_stuatus=='准备中'"
											style="color: #e6a23c;font-style: normal;">个微极速准备中...</em>
										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='shipin'&&reply_msg.jisu_stuatus=='未就绪'"
											style="color: #f56c6c;font-style: normal;">个微极速未就绪
										</em>
										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='shipin'&&reply_msg.jisu_stuatus=='就绪'"
											style="color: #67c23a;font-style: normal;">个微极速就绪</em>


										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='shipin'&&reply_msg.jisu_stuatus_qy=='准备中'"
											style="color: #e6a23c;font-style: normal;">企微极速准备中...</em>
										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='shipin'&&reply_msg.jisu_stuatus_qy=='未就绪'"
											style="color: #f56c6c;font-style: normal;">企微极速未就绪
										</em>
										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='shipin'&&reply_msg.jisu_stuatus_qy=='就绪'"
											style="color: #67c23a;font-style: normal;">企微极速就绪</em>

										<el-link type='primary'
											v-if="reply_msg.jisu_stuatus!='就绪' || reply_msg.jisu_stuatus_qy!='就绪'"
											size='mini' @click="reExUploadCDN(reply_msg,'N')">重新检测</el-link>
										<el-link type='primary' size='mini'
											@click="reExUploadCDN(reply_msg,'Y')">重新上传</el-link>
									</div>

								</template>
								<template v-else-if="reply_msg.msg_type_reply=='gif' ">
									<el-upload class="avatar-uploader" drag action="/wx/FenWei_rw/Uploadpic"
										:show-file-list="false" name='msg_img'
										:data="{path:'PaiDan',type:'gif_force',replymsg_index:0,p_index:0}"
										:on-success="handleAvatarSuccess_reply" :before-upload="beforeAvatarUpload">
										<el-image fit="contain" style='width: 100%;height: 100%;'
											v-if="reply_msg.img_src&&reply_msg.msg_type_reply=='gif'"
											:src="reply_msg.img_src" class="avatar"></el-image>
										<template v-else>
											<i class="el-icon-upload avatar-uploader-icon"></i>
											<div class="el-upload__text" style="margin-top: -10px;">
												用企业号拖动动态表情到此处<br>或<em>点击上传</em>
											</div>
										</template>
									</el-upload>
									<!-- 表情包 -->
									<div style="display: inline-block; align-items: center;">
										<el-dropdown trigger="click" ref="biaoqing" :hide-on-click="false"
											placement="bottom-start">
											<el-link type="primary" style="font-size:12px;" size="mini"
												:underline="false">选择表情包</el-link>
											<el-dropdown-menu slot="dropdown" :append-to-body="false"
												class="dropdown-container">
												<el-dropdown-item>
													<span type="info" :class="gif_active_cur =='keai'?'gif_active':''"
														@click.stop="handleItem('keai')">可爱</span>
												</el-dropdown-item>
												<el-dropdown-item class="li-title"><span type="info"
														:class="gif_active_cur =='gaoguai'?'gif_active':''"
														@click.stop="handleItem('gaoguai')">搞怪</span></el-dropdown-item>
												<el-dropdown-item class="li-title"><span type="info"
														:class="gif_active_cur =='chaiquan'?'gif_active':''"
														@click.stop="handleItem('chaiquan')">柴犬</span></el-dropdown-item>
												<el-dropdown-item class="li-title"><span type="info"
														:class="gif_active_cur =='yaoyiyao'?'gif_active':''"
														@click.stop="handleItem('yaoyiyao')">瑶一瑶</span></el-dropdown-item>
												<el-dropdown-item class="li-title"><span type="info"
														:class="gif_active_cur =='anzhongguancha'?'gif_active':''"
														@click.stop="handleItem('anzhongguancha')">暗中观察</span></el-dropdown-item>
												<el-dropdown-item class="li-title"><span type="info"
														:class="gif_active_cur =='woyao'?'gif_active':''"
														@click.stop="handleItem('woyao')">我要</span></el-dropdown-item>
												<el-dropdown-item class="li-title"><span type="info"
														:class="gif_active_cur =='zai'?'gif_active':''"
														@click.stop="handleItem('zai')">在</span></el-dropdown-item>
												<el-dropdown-item class="li-title"><span type="info"
														:class="gif_active_cur =='dianzan'?'gif_active':''"
														@click.stop="handleItem('dianzan')">点赞</span></el-dropdown-item>
												<el-dropdown-item class="li-title"><span type="info"
														:class="gif_active_cur =='jushou'?'gif_active':''"
														@click.stop="handleItem('jushou')">举手</span></el-dropdown-item>
												<el-dropdown-item class="li-title"><span type="info"
														:class="gif_active_cur =='wolaile'?'gif_active':''"
														@click.stop="handleItem('wolaile')">我来了</span></el-dropdown-item>
												<el-radio-group v-model="radio" class="radio-container"
													@change="setGif($event,reply_msg)">
													<el-dropdown-item v-for="(item, i) in gifList" :key="i">
														<el-radio :label="item.url">
															<img :src="oss_host+item.url" alt="" /></el-radio>
													</el-dropdown-item>
												</el-radio-group>
											</el-dropdown-menu>
										</el-dropdown>
									</div>
									<!-- 表情包 -->
									<div style="display: inline-block; align-items: center;">
										<el-popover ref="emoticon" placement="top" width="600" trigger="click">
											<emoticon @select="(imageUrl) => {setGif(imageUrl.img_half_url,reply_msg);}"></emoticon>
											<el-link  slot="reference" type="primary" style="font-size:12px;" size="mini" :underline="false">自定义表情包</el-link>
										</el-popover>
									</div>

									<div class="jisu_stuatus">
										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='gif'&&reply_msg.jisu_stuatus=='准备中'"
											style="color: #e6a23c;font-style: normal;">个微极速准备中...</em>
										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='gif'&&reply_msg.jisu_stuatus=='未就绪'"
											style="color: #f56c6c;font-style: normal;">个微极速未就绪
										</em>
										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='gif'&&reply_msg.jisu_stuatus=='就绪'"
											style="color: #67c23a;font-style: normal;">个微极速就绪</em>

										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='gif'&&reply_msg.jisu_stuatus_qy=='准备中'"
											style="color: #e6a23c;font-style: normal;">企微极速准备中...</em>
										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='gif'&&reply_msg.jisu_stuatus_qy=='未就绪'"
											style="color: #f56c6c;font-style: normal;">企微极速未就绪
										</em>
										<em class="picbtn"
											v-if="reply_msg.img_src!=''&&reply_msg.msg_type_reply=='gif'&&reply_msg.jisu_stuatus_qy=='就绪'"
											style="color: #67c23a;font-style: normal;">企微极速就绪</em>

										<el-link type='primary'
										v-if="reply_msg.jisu_stuatus_qy!='就绪' || reply_msg.jisu_stuatus!='就绪'"
											size='mini' @click="reExUploadCDN(reply_msg,'N')">重新检测</el-link>
										<el-link type='primary' size='mini'
											@click="reExUploadCDN(reply_msg,'Y')">重新上传</el-link>
									</div>
									<!-- 表情包 -->
									<div class="el-upload__text zhantie">
										<span
											v-if="reply_msg.file_size!=''&&reply_msg.file_size!=null&&reply_msg.file_size!=0">{{reply_msg.file_size}}kb</span>
									</div>
								</template>
								<template v-else-if="reply_msg.msg_type_reply=='xiaochengxu'">
									<!-- 编辑消息内容 -->
								<template>
									<el-link type="primary" style="display: inline-block;margin-bottom: 8px;font-size: 12px;" href="https://www.yuque.com/iyunzk/gonggao/poq356oz4mv4ntfs"  target="_blank" class="xiaochengxjiacheng"><i class="el-icon-warning-outline"></i> 如何获取,小程序参数?</el-link>
										<!-- <el-input @blur.self="getCdnInfo(reply_msg,null)" size='mini' :rows="5"
												  v-model="reply_msg.msg"
												  type="textarea" placeholder='个微号请将小程序转发到个微文件传输助手。企微号将小程序发到自己企微账号里。随后将解析后的文本信息复制放入文本框'></el-input> -->
										<!--<span style="color: orangered; font-size: 12px;">Tips：发单方案内，存在【个微】时，必须通过【个微】获取参数，否则会导致无法发送</span> -->
									</template>
									<!-- 将这里拆分成 个微类型 msg_geren 和企微类型 msg_qiye 两个输入框 -->
									<el-row>
										<el-col :span="24">
											<div class='kindTit'> <img src="/assets/images/logo/wx2.png" style="width: 16px; height: 16px; border-radius: 5px;margin-right: 5px;"> <span>个微类型</span></div>
											<el-input @blur.self="getCdnInfo(reply_msg,'geren')" size='mini' :rows="5"
												v-model="reply_msg.geren"
												type="textarea" placeholder='个微号请将小程序转发到个微文件传输助手。随后将解析后的文本信息复制放入文本框'></el-input>
										<span style="color: orangered; font-size: 12px;">Tips：发单方案内，存在【个微】时，必须通过【个微】获取参数，否则会导致无法发送</span>
										</el-col>
										<el-col :span="24">
											<div class='kindTit' style="margin-top: 10px;"><img src="/assets/images/logo/wx_work.png" style="width: 16px; height: 16px; border-radius: 5px;margin-right: 5px;"> <span>企微类型</span></div>
											<el-input @blur.self="getCdnInfo(reply_msg,'qiye')" size='mini' :rows="5"
												v-model="reply_msg.qiye"
												type="textarea" placeholder='企微号将小程序发到自己企微账号里。随后将解析后的文本信息复制放入文本框'></el-input>
											<span style="color: orangered; font-size: 12px;">Tips：发单方案内，存在【企微】时，必须通过【企微】获取参数，否则会导致无法发送</span>
										</el-col>
									</el-row>
								</template>
								<template v-else-if="reply_msg.msg_type_reply=='shipinhao'">
									<!-- 编辑消息内容 -->
									<template>
										<el-input @blur="getCdnInfo(reply_msg,'shipinhao')" size='mini' :rows="5"
											v-model="reply_msg.msg"
											type="textarea" placeholder='个微号请将视频号转发到个微文件传输助手。企微号将视频号发到自己企微账号里。随后将解析后的文本信息复制放入文本框'>
										</el-input>
										<span style="color: orangered; font-size: 12px;">Tips：发单方案内，存在【企微】时，必须通过【企微】获取参数，否则会导致无法发送</span>

									</template>
								</template>
								<template v-else-if="reply_msg.msg_type_reply=='liaotianjilu'">
									<!-- 编辑消息内容 -->
									<el-link type="primary" style="display: inline-block;margin-bottom: 8px;font-size: 12px;" href="https://www.yuque.com/iyunzk/gonggao/poq356oz4mv4ntfs"  target="_blank" class="xiaochengxjiacheng"><i class="el-icon-warning-outline"></i> 如何获取,聊天记录参数?</el-link>
									<el-input @blur="getChatInfo(reply_msg,'liaotianjilu')" size='mini' :rows="5"
											  v-model="reply_msg.msg"
											  type="textarea" placeholder='个微号请将聊天记录转发到个微文件传输助手。企微号将聊天记录发到自己企微账号里。随后将解析后的文本信息复制放入文本框'></el-input>
									<span style="color: orangered; font-size: 12px;">Tips：个微聊天记录仅支持个微聊天记录发送，企微聊天记录仅支持企微聊天记录发送。不支持跨端聊天记录发送</span>
									<span style="color: red; font-size: 12px;">不支持转链</span>
								</template>
								<template v-else-if="reply_msg.msg_type_reply=='voice'" >
									<div class="voice-selection">
										<template v-if="reply_msg.msg">
											<audio :src="JSON.parse(reply_msg.msg).mp3_file" class="yunyinbofnag" controls></audio>
											<div class="new-voice-msg" style="font-size: 12px;" >
												<span style="margin-left: 18px;">
													语音时长:{{reply_msg.gr_cdn ? ((JSON.parse(reply_msg.gr_cdn).voice_time)/ 1024).toFixed(1) : JSON.parse(reply_msg.qy_cdn).voice_time}}s
												</span>
												<span style="margin-left: 18px;">
													语音大小:{{(Number(JSON.parse(reply_msg.qy_cdn ? reply_msg.qy_cdn : reply_msg.gr_cdn).size ) / 1024 ).toFixed(1)}}Kb
												</span>
												<el-button style="margin-left: 18px;" type="text" @click="getFdRobotlist()" size="mini" >重新选择</el-button>
											</div>
										</template>
										<el-button v-else type="primary"  size="mini"  @click="getFdRobotlist()" >选择语音</el-button>
									</div>
								</template>
								<!-- 收藏笔记 -->
								<template v-else-if="reply_msg.msg_type_reply=='note'">
									<el-input @blur="getCdnInfo(reply_msg,'note')" size='mini' :rows="5"
											  v-model="reply_msg.msg"
											  type="textarea" placeholder='个微号请将收藏笔记转发到个微文件传输助手。随后将解析后的文本信息复制放入文本框'></el-input>
									<span style="color: orangered; font-size: 12px;">Tips:发单方案仅支持通过【个微】获取参数和发送</span>
								</template>
							</div>
							<!-- 回复内容 -->

							<div v-if="reply_msg_index===''">
								<el-row>
									<lable style="font-size: 12px;" class="">发送间隔</lable>
									<el-input v-model="default_yanshi" @change="check_number($event,1,'建议')" min="1"
										type="number" size="mini" class="num_input"></el-input>
									<lable style="font-size: 12px;" class="">秒</lable>

									<el-button style="float: right;" type="primary" plain size="mini"
										@click="addViewMsg(reply_msg)">加入预览</el-button>
								</el-row>
							</div>
							<div v-else>
								<el-row>
									<lable style="font-size: 12px;" class="">发送间隔</lable>
									<el-input v-model="reply_msg.yanshi" @change="check_number($event,1,'建议')" min="1"
										type="number" size="mini" class="num_input"></el-input>
									<lable style="font-size: 12px;" class="">秒</lable>

									<el-button style="float: right;" type="primary" plain size="mini"
										@click="closeEditReplyMsg">完成编辑</el-button>

									<el-button style="float: right; margin-right:10px;" type="info" plain size="mini"
										@click="cancelEditReplyMsg">取消编辑</el-button>
									<!-- <el-button type="primary" size="mini" @click="addViewMsg">加入预览</el-button> -->
								</el-row>
							</div>
						</el-card>

						<el-row style="text-align: right;margin-top: 70px;">
							<el-button v-loading.fullscreen.lock="loading" type="primary" size="small" @click="funSaveFaDanTiming('N')">保存并终止</el-button>
							<el-button v-loading.fullscreen.lock="loading" type="primary" size="small" @click="funSaveFaDanTiming('Y')">保存并开启</el-button>

							<el-button size="small" @click="addFadanTimingDialog=false">取消</el-button>
						</el-row>
					</template>
				</el-row>
			</div>
		</div>
	</el-dialog>

</body>
</html>
